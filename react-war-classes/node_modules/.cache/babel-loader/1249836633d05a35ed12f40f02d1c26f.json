{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alex\\\\Desktop\\\\36-react-war\\\\src\\\\components\\\\Game.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { creatDeck, result } from '../utils/contants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Game = _ref => {\n  _s();\n\n  let {\n    changePage,\n    getScore,\n    nickName\n  } = _ref;\n  //  let compDeck = [];\n  //  let playerDeck = [];\n  //  let compWin = 0;\n  //  let playerWin = 0;\n  const [compCard, setCompCard] = useState('Computer card');\n  const [playerCard, setPlayerCard] = useState('Player card');\n  const [compWin, setCompWin] = useState(0);\n  const [playerWin, setPlayerWin] = useState(0);\n  const [compDeck, setCompDeck] = useState([]);\n  const [playerDeck, setPlayerDeck] = useState([]);\n\n  const handleClickNext = () => {\n    if (playerDeck.length) {\n      const comp = compDeck.pop();\n      const player = playerDeck.pop();\n\n      if (comp.rank > player.rank) {\n        setCompWin(compWin + 1);\n      }\n\n      if (comp.rank < player.rank) {\n        setPlayerWin(playerWin + 1);\n      }\n\n      setCompCard(`${comp.rank} ${comp.suit}`);\n      setPlayerCard(`${player.rank} ${player.suit}`);\n    } else {\n      changePage(result);\n      getScore([compWin, playerWin]);\n    }\n  };\n\n  const compDidMount = () => {\n    const deck = creatDeck();\n    deck.sort(() => Math.random() - 0.5);\n    setCompDeck(deck.slice(0, deck.length / 2));\n    playerDeck = deck.slice(deck.length / 2, deck.length); //handleClickNext();\n  };\n\n  useEffect(() => {\n    compDidMount();\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Computer (\", compWin, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: compCard\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: playerCard\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [nickName, \" (\", playerWin, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClickNext,\n      children: \"Next\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Game, \"ixuxdGgoBV217f9I/U2kG/ndTAc=\");\n\n_c = Game;\nexport default Game;\n\nvar _c;\n\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"names":["React","useEffect","useState","creatDeck","result","Game","changePage","getScore","nickName","compCard","setCompCard","playerCard","setPlayerCard","compWin","setCompWin","playerWin","setPlayerWin","compDeck","setCompDeck","playerDeck","setPlayerDeck","handleClickNext","length","comp","pop","player","rank","suit","compDidMount","deck","sort","Math","random","slice"],"sources":["C:/Users/Alex/Desktop/36-react-war/src/components/Game.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { creatDeck, result } from '../utils/contants'\n\nconst Game = ({changePage, getScore, nickName}) => {\n  \n    //  let compDeck = [];\n    //  let playerDeck = [];\n    //  let compWin = 0;\n    //  let playerWin = 0;\n  \n  const [compCard, setCompCard] = useState('Computer card');\n  const [playerCard,setPlayerCard] = useState('Player card');\n  const [compWin, setCompWin] = useState(0);\n  const [playerWin, setPlayerWin] = useState(0);\n  const [compDeck,setCompDeck] = useState([]);\n  const [playerDeck,setPlayerDeck] = useState([]);\n\n  const handleClickNext = () => {\n    if (playerDeck.length) {\n      const comp = compDeck.pop();\n      const player = playerDeck.pop();\n      if (comp.rank > player.rank) {\n        setCompWin(compWin+1);\n      }\n      if (comp.rank < player.rank) {\n        setPlayerWin(playerWin+1);\n      }\n        setCompCard(`${comp.rank} ${comp.suit}`);\n        setPlayerCard(`${player.rank} ${player.suit}`);\n    } else {\n      changePage(result);\n      getScore([compWin, playerWin]);\n    }\n\n  }\n\n const compDidMount = () => {\n    const deck = creatDeck();\n    deck.sort(() => Math.random() - 0.5);\n    setCompDeck(deck.slice(0, deck.length / 2));\n    playerDeck = deck.slice(deck.length / 2, deck.length);\n    //handleClickNext();\n  }\nuseEffect(() => {compDidMount();});\n \n    return (\n      <div>\n        <h2>Computer ({compWin})</h2>\n        <p>{compCard}</p>\n        <p>{playerCard}</p>\n        <h2>{nickName} ({playerWin})</h2>\n        <button onClick={handleClickNext}>Next</button>\n      </div>\n    )\n  \n\n}\n\nexport default Game"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,EAAoBC,MAApB,QAAkC,mBAAlC;;;AAEA,MAAMC,IAAI,GAAG,QAAsC;EAAA;;EAAA,IAArC;IAACC,UAAD;IAAaC,QAAb;IAAuBC;EAAvB,CAAqC;EAE/C;EACA;EACA;EACA;EAEF,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,eAAD,CAAxC;EACA,MAAM,CAACS,UAAD,EAAYC,aAAZ,IAA6BV,QAAQ,CAAC,aAAD,CAA3C;EACA,MAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,CAAD,CAAtC;EACA,MAAM,CAACa,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,CAAD,CAA1C;EACA,MAAM,CAACe,QAAD,EAAUC,WAAV,IAAyBhB,QAAQ,CAAC,EAAD,CAAvC;EACA,MAAM,CAACiB,UAAD,EAAYC,aAAZ,IAA6BlB,QAAQ,CAAC,EAAD,CAA3C;;EAEA,MAAMmB,eAAe,GAAG,MAAM;IAC5B,IAAIF,UAAU,CAACG,MAAf,EAAuB;MACrB,MAAMC,IAAI,GAAGN,QAAQ,CAACO,GAAT,EAAb;MACA,MAAMC,MAAM,GAAGN,UAAU,CAACK,GAAX,EAAf;;MACA,IAAID,IAAI,CAACG,IAAL,GAAYD,MAAM,CAACC,IAAvB,EAA6B;QAC3BZ,UAAU,CAACD,OAAO,GAAC,CAAT,CAAV;MACD;;MACD,IAAIU,IAAI,CAACG,IAAL,GAAYD,MAAM,CAACC,IAAvB,EAA6B;QAC3BV,YAAY,CAACD,SAAS,GAAC,CAAX,CAAZ;MACD;;MACCL,WAAW,CAAE,GAAEa,IAAI,CAACG,IAAK,IAAGH,IAAI,CAACI,IAAK,EAA3B,CAAX;MACAf,aAAa,CAAE,GAAEa,MAAM,CAACC,IAAK,IAAGD,MAAM,CAACE,IAAK,EAA/B,CAAb;IACH,CAXD,MAWO;MACLrB,UAAU,CAACF,MAAD,CAAV;MACAG,QAAQ,CAAC,CAACM,OAAD,EAAUE,SAAV,CAAD,CAAR;IACD;EAEF,CAjBD;;EAmBD,MAAMa,YAAY,GAAG,MAAM;IACxB,MAAMC,IAAI,GAAG1B,SAAS,EAAtB;IACA0B,IAAI,CAACC,IAAL,CAAU,MAAMC,IAAI,CAACC,MAAL,KAAgB,GAAhC;IACAd,WAAW,CAACW,IAAI,CAACI,KAAL,CAAW,CAAX,EAAcJ,IAAI,CAACP,MAAL,GAAc,CAA5B,CAAD,CAAX;IACAH,UAAU,GAAGU,IAAI,CAACI,KAAL,CAAWJ,IAAI,CAACP,MAAL,GAAc,CAAzB,EAA4BO,IAAI,CAACP,MAAjC,CAAb,CAJwB,CAKxB;EACD,CANF;;EAODrB,SAAS,CAAC,MAAM;IAAC2B,YAAY;EAAI,CAAxB,CAAT;EAEI,oBACE;IAAA,wBACE;MAAA,yBAAef,OAAf;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAA,UAAIJ;IAAJ;MAAA;MAAA;MAAA;IAAA,QAFF,eAGE;MAAA,UAAIE;IAAJ;MAAA;MAAA;MAAA;IAAA,QAHF,eAIE;MAAA,WAAKH,QAAL,QAAiBO,SAAjB;IAAA;MAAA;MAAA;MAAA;IAAA,QAJF,eAKE;MAAQ,OAAO,EAAEM,eAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QALF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAWH,CArDD;;GAAMhB,I;;KAAAA,I;AAuDN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}